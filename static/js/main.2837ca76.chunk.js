(this["webpackJsonpdeck-view"]=this["webpackJsonpdeck-view"]||[]).push([[0],{139:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),i=(n(94),n(31)),u=n.n(i),s=n(45),l=n(25),d=n(164),m=n(80),f=n.n(m),p=(n(96),/^(COMMANDER|COMANDANTE)/),b=/^(COMPANION|COMPA\xd1ERO)/,h=/^(DECK|MAZO)/,E=/^([0-9]+)\s([^(]*)\s\((.*)\)\s([0-9]+)/,g=function(e){return e.split("\n").map((function(e){return e.trim().toUpperCase()}))},v=function(e){var t=e.match(E);return{count:t[1],card_name:t[2],set:t[3],collector_number:t[4]}},k=function(e){var t=g(e),n=t.findIndex((function(e){return p.test(e)}));if(n>=0)return v(t[n+1])},O=function(e){var t=g(e),n=t.findIndex((function(e){return b.test(e)}));if(n>=0)return v(t[n+1])},x=function(e){for(var t=g(e),n=[],a=t.findIndex((function(e){return h.test(e)}))+1;a<t.length;a++){var r=t[a];if(0===r.length)break;n.push(v(r))}return n},y=function(e){for(var t=g(e),n=[],a=t.indexOf("SIDEBOARD")+1;a<t.length;a++){var r=t[a];if(0===r.length)break;n.push(v(r))}return n},j=function(e){return{companion:O(e),commander:k(e),deck:x(e),sideboard:y(e)}},C=function(e){return j(e)},_=n(166),N=n(163),w=n(162),A=n(159),S=n(142),I=n(161),M=Object(A.a)({table:{tableLayout:"fixed"},tableHeader:{colspan:2,textAlign:"left"},tableCount:{textAlign:"right",width:"20px",overflow:"hidden",padding:"0 5px 0 0"}});var W=function(e){var t=M(),n=e.section,c=e.entries,o=e.handleCardFocused,i=e.handleCardUnfocused,u=e.handleSelectEntry;c&&c.length>0&&c.sort((function(e,t){return e.data.cmc-t.data.cmc}));var s=function(e){return e.preventDefault()},l=function(e){return function(){o(e)}},d=function(e){return function(){i(e)}},m=function(e){return function(){u(e)}};return c&&c.filter((function(e){return e})).length>0?r.a.createElement(a.Fragment,null,r.a.createElement(S.a,{variant:"subtitle2"},n),r.a.createElement("table",{className:t.table},r.a.createElement("tbody",null,c.filter((function(e){return e})).map((function(e){return r.a.createElement("tr",{key:e.data.id},r.a.createElement("td",{className:t.tableCount},r.a.createElement(S.a,{variant:"body2",display:"block",onMouseEnter:l(e),onMouseLeave:d(e),onClick:m(e)},r.a.createElement(I.a,{href:"#",onClick:s},e.count))),r.a.createElement("td",null,r.a.createElement(S.a,{variant:"body2",display:"block",onMouseEnter:l(e),onMouseLeave:d(e),onClick:m(e)},r.a.createElement(I.a,{href:"#",onClick:s},e.data.name))))}))))):null};var D=function(e){for(var t=e.sections,n=function(e){return e.reduce((function(e,n){return e+t[n].length}),0)},a=Object.keys(t).filter((function(e){return t[e].length>0})),c=n(a)/2,o=[],i=[],u=0;u<a.length;u++)n(o)<c?o.push(a[u]):i.push(a[u]);return r.a.createElement(w.a,{container:!0},r.a.createElement(w.a,{item:!0,xs:6},o.map((function(n){return r.a.createElement(W,Object.assign({key:n},e,{section:n,entries:t[n]}))}))),r.a.createElement(w.a,{item:!0,xs:6},i.map((function(n){return r.a.createElement(W,Object.assign({key:n},e,{section:n,entries:t[n]}))}))))},L=n(15),P=Object(A.a)({root:{padding:"30px",margin:"30px 0 0 0"},tblHeader:{colspan:2,textAlign:"left"},img:{maxWidth:"336px",float:"right"}});var U=function(e){var t=P(),n=e.deck,a=r.a.useState(""),c=Object(l.a)(a,2),o=c[0],i=c[1],u=r.a.useState({}),s=Object(l.a)(u,2),d=s[0],m=s[1],f={handleCardFocused:function(e){i(e.data.image_uris.normal)},handleCardUnfocused:function(){d.data&&i(d.data.image_uris.normal)},handleSelectEntry:function(e){m(e)}},p=function(e){var t,n=[],a=[],r=[],c=[],o=[],i=[],u=[],s=[],l=e.deck;l&&l.length>0&&(n=l.filter((function(e){return e.data.type_line.startsWith("Creature")})),a=function(e){return e.filter((function(e){return e.data.type_line.startsWith("Legendary Planeswalker")}))}(l),r=function(e){return e.filter((function(e){return e.data.type_line.startsWith("Instant")}))}(l),c=function(e){return e.filter((function(e){return e.data.type_line.startsWith("Sorcery")}))}(l),o=function(e){return e.filter((function(e){return e.data.type_line.startsWith("Artifact")}))}(l),i=function(e){return e.filter((function(e){return e.data.type_line.startsWith("Enchantment")}))}(l),u=function(e){return e.filter((function(e){return e.data.type_line.startsWith("Land")||e.data.type_line.startsWith("Basic Land")}))}(l));var d=e.sideboard;return d&&d.length>0&&(s=d),t={},Object(L.a)(t,"Creature",n),Object(L.a)(t,"Planeswalker",a),Object(L.a)(t,"Instant",r),Object(L.a)(t,"Sorcery",c),Object(L.a)(t,"Artifact",o),Object(L.a)(t,"Enchantment",i),Object(L.a)(t,"Land",u),Object(L.a)(t,"Sideboard",s),t}(n);return r.a.createElement(N.a,{elevation:3,className:t.root},r.a.createElement(w.a,{container:!0,spacing:1},r.a.createElement(w.a,{item:!0,xs:8},r.a.createElement(w.a,{container:!0},r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(W,Object.assign({section:"Commander",entries:[n.commander]},f))),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(W,Object.assign({section:"Companion",entries:[n.companion]},f))),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(D,Object.assign({sections:p},f))))),r.a.createElement(w.a,{item:!0,xs:4},r.a.createElement("img",{src:o,alt:"",className:t.img}))))},B=n(57),F=n(78),H=n.n(F),R=function(e){var t=[];return e.companion&&t.push({set:e.companion.set,collector_number:e.companion.collector_number}),e.commander&&t.push({set:e.commander.set,collector_number:e.commander.collector_number}),e.deck&&e.deck.length>0&&t.push.apply(t,Object(B.a)(e.deck.map((function(e){return{set:e.set,collector_number:e.collector_number}})))),e.sideboard&&e.sideboard.length>0&&t.push.apply(t,Object(B.a)(e.sideboard.map((function(e){return{set:e.set,collector_number:e.collector_number}})))),t},z=function(e,t){return e.companion&&(e.companion.data=J(e.companion,t)),e.commander&&(e.commander.data=J(e.commander,t)),e.deck&&e.deck.length>0&&e.deck.forEach((function(e){e.data=J(e,t)})),e.sideboard&&e.sideboard.length>0&&e.sideboard.forEach((function(e){e.data=J(e,t)})),e},J=function(e,t){return t.find((function(t){return t.set.toUpperCase()===e.set.toUpperCase()&&t.collector_number===e.collector_number}))},T=function(){var e=Object(s.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=R(t),e.next=3,H.a.post("https://api.scryfall.com/cards/collection",{identifiers:n});case 3:return a=e.sent,e.abrupt("return",z(t,a.data.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=n(169),Z=n(165),q=n(79),G=n.n(q),Q=n(167),V=G()((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},fab:{position:"absolute",bottom:20,right:20}}}));var X=function(){var e=V(),t=r.a.useState({}),n=Object(l.a)(t,2),a=n[0],c=n[1],o=r.a.useState({}),i=Object(l.a)(o,2),m=i[0],p=i[1],b=r.a.useState(!1),h=Object(l.a)(b,2),E=h[0],g=h[1],v=function(){var e=Object(s.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,navigator.clipboard.readText();case 4:return t=e.sent,n=C(t),e.next=8,T(n);case 8:a=e.sent,c(a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),p({message:"Error trying to parse the deck"});case 16:g(!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement(d.a,{className:"container"},r.a.createElement(Q.a,{variant:"extended",className:e.fab,onClick:v},r.a.createElement(f.a,{className:e.extendedIcon}),"Paste"),r.a.createElement(U,{deck:a}),r.a.createElement(_.a,{open:m.message,autoHideDuration:6e3,onClose:function(){p({})},message:m.message}),r.a.createElement(K.a,{className:e.backdrop,open:E},r.a.createElement(Z.a,null))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(X,null)),document.getElementById("root"))},89:function(e,t,n){e.exports=n(139)},94:function(e,t,n){},96:function(e,t,n){}},[[89,1,2]]]);
//# sourceMappingURL=main.2837ca76.chunk.js.map